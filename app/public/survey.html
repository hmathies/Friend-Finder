<!DOCTYPE html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <title>Friend Finder Survey</title>
      <meta name="author" content="Heather Mathies">
      <meta name="description" content="">
      <link rel="manifest" href="/manifest.json">
      <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
      <meta name="theme-color" content="#ffffff">
      <!-- Bootstrap latest compiled and minified CSS -->
      <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
      <script src="https://code.jquery.com/jquery.js"></script>
      <!-- jQuery Google CDN -->
      <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
      <!-- Bootstrap JS MaxCDN -->
      <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>
   </head>
   <body>
      <div class="container">
         <h1>Friend Survey</h1>
         <hr>
         <!--
            Your survey should have 10 questions of your choosing. Each answer should be on a scale of 1 to 5 based on how much the user agrees or disagrees with a question. -->
         <!-- Text input-->
         <div class="containter">
            <div class="form-group">
               <label class="col-sm-12 control-label" for="textinput">Name</label>
               <div class="col-sm-12">
                  <input id="name" name="textinput" type="text" placeholder="type your name"  class="form-control input-md">
               </div>
               <label class="col-sm-12 control-label" for="textinput">Photo Link</label>
               <div class="col-sm-12">
                  <input id="photo" name="photo" type="text" placeholder="Paste your photo url here" class="form-control input-md">
                  <hr>
               </div>
            </div>
         </div>
         <!-- Survey Questions -->
         <div class="container">
            <div class="container">
               <div class="form-group">
                  <h3>Question 1: <span class="label label-default"></span>Your ideal date would be a night snuggled up on the couch with snacks and a movie.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q1" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <div class="container">
               <div class="form-group">
                  <h3>Question 2: <span class="label label-default"></span>It is important for both partners to make compromises.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q2" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <div class="container">
               <div class="form-group">
                  <h3>Question 3: <span class="label label-default"></span>I think it's important to share my feelings with my partner.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q3" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <div class="container">
               <div class="form-group">
                  <h3>Question 4: <span class="label label-default"></span>I prefer a committed and monogomous relationship.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q4" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <div class="container">
               <div class="form-group">
                  <h3>Question 5: <span class="label label-default"></span>Ultimately, I want to have children.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q5" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <div class="container">
               <div class="form-group">
                  <h3>Question 6: <span class="label label-default"></span>Being attracted to my partner is very important.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q6" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <div class="container">
               <div class="form-group">
                  <h3>Question 7: <span class="label label-default"></span>It wouldn't bother me if my partner was out of town a lot.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q7" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <div class="container">
               <div class="form-group">
                  <h3>Question 8: <span class="label label-default"></span>I like to be adventurous.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q8" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <div class="container">
               <div class="form-group">
                  <h3>Question 9: <span class="label label-default"></span>I think living together before marriage is a good thing.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q9" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <div class="container">
               <div class="form-group">
                  <h3>Question 10: <span class="label label-default"></span>I like to receive gifts from my partner because it helps me know he/she cares.</h3>
                  <div class="col-sm-12 col-md-2">
                     <select id="q10" name="selectbasic" class="form-control">
                        <option value="1">1 (Strongly Disagree)</option>
                        <option value="2">2(Somewhat Agree)</option>
                        <option value="3">3(Agree)</option>
                        <option value="4">4(Agree a lot)</option>
                        <option value="5">5 (Strongly Agree)</option>
                     </select>
                  </div>
               </div>
            </div>
            <!-- submit button -->
            <hr>
            <div class="row">
              <div class="col-md-2">
               <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>Find Friends</button>
              </div>
            </div>
         </div>
      </div>
     </body>
  </html>
      <script>

      // In this code below we create the Front-end JavaScript which "POSTS" our form data to our express server.
      // In essence, when the user hits submit, jQuery grabs all of the fields then sends a post request to our api
      // Our api recognizes the route (/api/tables)... and then runs the associated code (found in api-routes.js).
      // In this case the associated code "saves" the data to the table-data.js file or waitinglist-data.js file

      $("#submit").on("click", function(event) {
        event.preventDefault();

        // Here we grab the form elements
        var friendsData = {
            name: $("#name").val().trim(),
            photo: $("#photo").val().trim(),
            scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(),
                $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val()]
        };
        console.log(friendsData);

        // This line is the magic. It"s very similar to the standard ajax function we used.
        // Essentially we give it a URL, we give it the object we want to send, then we have a "callback".
        // The callback is the response of the server. In our case, we set up code in api-routes that "returns" true or false
        // depending on if a tables is available or not.

        $.post("/api/friends", friendsData,
          function(data, err) {

            //I think this is where a modal will either pop up
            if (!data) {
              console.log("you have data");
            }
// or an alert will pop up if they didn't complete the form
            else {
              console.log(err);
            }


          });
          $("#name").val("");
          $("#photo").val("");
          $("#q1, #q2, #q3, #q4, #q5, #q6, #q7, #q8, #q9, #q10").val("");

      });

      </script>
